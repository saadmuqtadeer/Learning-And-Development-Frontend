<div class="card">
  <div class="card-header">
    <h4 class="card-title">Training Request</h4>
  </div>
  <div class="card-body">
    <ul class="nav nav-tabs nav-line nav-color-secondary" id="line-tab" role="tablist">
      <li class="nav-item">
        <a class="nav-link" [ngClass]="{ active: activeTab === 'all' }" (click)="setActiveTab('all')">All Requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [ngClass]="{ active: activeTab === 'pending' }" (click)="setActiveTab('pending')">Pending
          Requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [ngClass]="{ active: activeTab === 'accepted' }" (click)="setActiveTab('accepted')">Accepted
          Requests</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [ngClass]="{ active: activeTab === 'rejected' }" (click)="setActiveTab('rejected')">Rejected
          Requests</a>
      </li>
    </ul>

    <!-- Tab Content -->
    <div class="tab-content mt-3 mb-3" id="line-tabContent">
      <!-- All Requests Tab -->
      <div class="tab-pane" [ngClass]="{ active: activeTab === 'all', fade: activeTab !== 'all' }"
        *ngIf="activeTab === 'all'">
        <div class="allRequests">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <div class="d-flex align-items-center">
                  <h4 class="card-title">All Requests</h4>
                  <button class="btn btn-primary btn-round ms-auto" data-bs-toggle="modal"
                    data-bs-target="#addRowModal">
                    <i class="fa fa-plus"></i>
                    Send Training Request
                  </button>
                </div>
              </div>
              <div class="card-body">
                <!-- Modal -->
                <div class="modal fade" id="addRowModal" tabindex="-1" role="dialog" aria-hidden="true">
                  <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                      <div class="modal-header bg-primary">
                        <h5 class="modal-title text-white" id="sendRequestLabel">
                          Send Training request
                        </h5>
                        <button type="button" class="btn-close text-white" data-bs-dismiss="modal"
                          aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <form (ngSubmit)="submitRequest()" #trainingRequestForm="ngForm" class="px-4">
                          <!-- Requestor Information -->
                          <fieldset>
                            <legend>Requestor Information</legend>

                            <div class="form-group">
                              <label for="requestorName">Requestor's Name</label>
                              <input id="requestorName" [(ngModel)]="request.requestorName" name="requestorName"
                                class="form-control" readonly />
                            </div>

                            <div class="form-group">
                              <label for="requestorEmail">Requestor's Email</label>
                              <input id="requestorEmail" [(ngModel)]="request.requestorEmail" name="requestorEmail"
                                type="email" class="form-control" readonly />
                            </div>

                            <div class="form-group">
                              <label for="department">Department</label>
                              <input id="department" [(ngModel)]="request.department" name="department"
                                class="form-control" required />
                            </div>
                          </fieldset>

                          <!-- Training Details -->
                          <fieldset>
                            <legend>Training Details</legend>

                            <div class="form-group">
                              <label for="trainingTitle">Training Title</label>
                              <input id="trainingTitle" [(ngModel)]="request.trainingTitle" name="trainingTitle"
                                class="form-control" required />
                            </div>

                            <div class="form-group">
                              <label for="trainingDescription">Training Description</label>
                              <textarea id="trainingDescription" [(ngModel)]="request.trainingDescription"
                                name="trainingDescription" class="form-control" rows="4" required></textarea>
                            </div>

                            <div class="form-group">
                              <label for="numberOfEmployees">Number of Employees</label>
                              <input id="numberOfEmployees" [(ngModel)]="request.numberOfEmployees"
                                name="numberOfEmployees" type="number" class="form-control" required />
                            </div>

                            <div class="form-group">
                              <label for="technicalSkillSetRequired">Technical Skill Set Required</label>
                              <input id="technicalSkillSetRequired" [(ngModel)]="request.technicalSkills"
                                name="technicalSkillSetRequired" class="form-control" />
                            </div>

                            <div class="form-group">
                              <label for="durationInDays">Duration of Training (in days)</label>
                              <input id="durationInDays" [(ngModel)]="request.duration" name="durationInDays"
                                type="number" class="form-control" required />
                            </div>

                            <div class="form-group">
                              <label for="preferredStartDate">Preferred Start Date</label>
                              <input id="preferredStartDate" [(ngModel)]="request.preferredStartDate"
                                name="preferredStartDate" type="date" class="form-control" required />
                            </div>

                            <div class="form-group">
                              <label for="trainingLocation">Training Location</label>
                              <input id="trainingLocation" [(ngModel)]="request.trainingLocation"
                                name="trainingLocation" class="form-control" />
                            </div>

                            <div class="form-group">
                              <label for="specialRequirements">Special Requirements</label>
                              <textarea id="specialRequirements" [(ngModel)]="request.specialRequirements"
                                name="specialRequirements" class="form-control" rows="4"></textarea>
                            </div>
                          </fieldset>


                          <button type="submit" class="btn btn-primary m-2">
                            Submit Request
                          </button>
                        </form>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">
                          Close
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- src/app/components/training-request/training-request.component.html -->

                <div class="table-responsive">
                  <div id="training-request_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4">
                    <div class="row">
                      <div class="col-sm-12 col-md-6">
                        <div class="dataTables_length" id="training-request_length">
                          <label>Show entries</label>
                          <select name="training-request_length" aria-controls="training-request"
                            class="form-control form-control-sm">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-sm-12 col-md-6">
                        <div id="training-request_filter" class="dataTables_filter">
                          <label>Search:</label>
                          <input type="search" class="form-control form-control-sm" placeholder=""
                            aria-controls="training-request" />
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <table id="training-request" class="display table table-striped table-hover dataTable"
                          role="grid" aria-describedby="training-request_info">
                          <thead>
                            <tr role="row">
                              <th class="sorting_asc" tabindex="0" aria-controls="training-request" rowspan="1"
                                colspan="1" aria-sort="ascending"
                                aria-label="Training Title: activate to sort column descending" style="width: 200px">
                                Training Title
                              </th>
                              <th class="sorting" tabindex="0" aria-controls="training-request" rowspan="1" colspan="1"
                                aria-label="Training Details: activate to sort column ascending" style="width: 300px">
                                Training Details
                              </th>
                              <th class="sorting" tabindex="0" aria-controls="training-request" rowspan="1" colspan="1"
                                aria-label="Duration: activate to sort column ascending" style="width: 120px">
                                Duration (Days)
                              </th>
                              <th class="sorting" tabindex="0" aria-controls="training-request" rowspan="1" colspan="1"
                                aria-label="Location: activate to sort column ascending" style="width: 200px">
                                Location
                              </th>
                              <th class="sorting" tabindex="0" aria-controls="training-request" rowspan="1" colspan="1"
                                aria-label="Action: activate to sort column ascending" style="width: 180px">
                                Action
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let request of trainingRequests">
                              <td>{{ request.trainingTitle }}</td>
                              <td>{{ request.trainingDetails }}</td>
                              <td>{{ request.durationInDays }}</td>
                              <td>{{ request.trainingLocation }}</td>
                              <td>
                                <div class="form-button-action">
                                  <button type="button" data-bs-toggle="tooltip" title="View Detail"
                                    class="btn btn-link btn-info btn-lg" (click)="openModal('view-detail-modal')">
                                    <i class="fa fa-eye"></i> View Detail
                                  </button>
                                  <button type="button" data-bs-toggle="tooltip" title="Edit Training Request"
                                    class="btn btn-link btn-primary btn-lg" (click)="openModal('edit-training-modal')">
                                    <i class="fa fa-edit"></i> Edit Training Request
                                  </button>
                                  <button type="button" data-bs-toggle="tooltip" title="Withdraw Training Request"
                                    class="btn btn-link btn-danger btn-lg"
                                    (click)="openModal('withdraw-training-modal')">
                                    <i class="fa fa-times"></i> Withdraw Training Request
                                  </button>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12 col-md-5">
                        <div class="dataTables_info" id="training-request_info" role="status" aria-live="polite">
                          Showing 1 to {{ trainingRequests.length }} of {{ trainingRequests.length }} entries
                        </div>
                      </div>
                      <div class="col-sm-12 col-md-7">
                        <div class="dataTables_paginate paging_simple_numbers" id="training-request_paginate">
                          <ul class="pagination">
                            <!-- Pagination buttons will be handled by DataTables plugin if needed -->
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pending Requests Tab -->
      <div class="tab-pane" [ngClass]="{
          active: activeTab === 'pending',
          fade: activeTab !== 'pending'
        }" *ngIf="activeTab === 'pending'">
        <div class="">
          <p>I am pending request</p>
        </div>
      </div>

      <!-- Accepted Requests Tab -->
      <div class="tab-pane" [ngClass]="{
          active: activeTab === 'accepted',
          fade: activeTab !== 'accepted'
        }" *ngIf="activeTab === 'accepted'">
        <div class="">
          <p>I am accepted request</p>
        </div>
      </div>

      <!-- Rejected Requests Tab -->
      <div class="tab-pane" [ngClass]="{
          active: activeTab === 'rejected',
          fade: activeTab !== 'rejected'
        }" *ngIf="activeTab === 'rejected'">
        <div class="">
          <p>I am rejected request</p>
        </div>
      </div>
    </div>
  </div>
</div>