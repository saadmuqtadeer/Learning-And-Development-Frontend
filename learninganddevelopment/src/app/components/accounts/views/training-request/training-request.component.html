<div class="card">
    <div class="card-header">
        <h4 class="card-title">Training Request</h4>
    </div>
    <div class="card-body">
        <ul class="nav nav-tabs nav-line nav-color-secondary" id="line-tab" role="tablist">
            <li class="nav-item">
                <a class="nav-link"  
                   [ngClass]="{ 'active': activeTab === 'all' }"
                   (click)="setActiveTab('all')">All Requests</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" 
                   [ngClass]="{ 'active': activeTab === 'pending' }"
                   (click)="setActiveTab('pending')">Pending Requests</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" 
                   [ngClass]="{ 'active': activeTab === 'accepted' }"
                   (click)="setActiveTab('accepted')">Accepted Requests</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" 
                   [ngClass]="{ 'active': activeTab === 'rejected' }"
                   (click)="setActiveTab('rejected')">Rejected Requests</a>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-3 mb-3" id="line-tabContent">

            <!-- All Requests Tab -->
            <div class="tab-pane" 
                 [ngClass]="{ 'active': activeTab === 'all', 'fade': activeTab !== 'all' }"
                 *ngIf="activeTab === 'all'">
                 <div class="createRequest">
                    <div class="m-4">
                        <!-- Button trigger modal for Training Program Feedback -->
                        <button type="button" class="btn btn-primary btn-lg" (click)="openModal('sendRequest')">
                          Send Training Request
                        </button>
                  
                        <!-- Training Program Feedback Modal -->
                        <div class="modal fade" id="sendRequest" tabindex="-1" aria-labelledby="sendRequestLabel" aria-hidden="true">
                          <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                              <div class="modal-header bg-primary">
                                <h5 class="modal-title text-white" id="sendRequestLabel">Send Training request</h5>
                                <button type="button" class="btn-close text-white" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                  <form (ngSubmit)="submitRequest()" #trainingRequestForm="ngForm"  class="px-4">
                                    <!-- Requestor Information -->
                                    <fieldset>
                                        <legend>Requestor Information</legend>
                                
                                        <div class="form-group">
                                            <label for="requestorName">Requestor's Name</label>
                                            <input id="requestorName" [(ngModel)]="request.requestorName" name="requestorName" class="form-control"
                                                readonly />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="requestorEmail">Requestor's Email</label>
                                            <input id="requestorEmail" [(ngModel)]="request.requestorEmail" name="requestorEmail" type="email"
                                                class="form-control" readonly />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="department">Department</label>
                                            <input id="department" [(ngModel)]="request.department" name="department" class="form-control" required />
                                        </div>
                                    </fieldset>
                                
                                    <!-- Training Details -->
                                    <fieldset>
                                        <legend>Training Details</legend>
                                
                                        <div class="form-group">
                                            <label for="trainingTitle">Training Title</label>
                                            <input id="trainingTitle" [(ngModel)]="request.trainingTitle" name="trainingTitle" class="form-control"
                                                required />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="trainingDescription">Training Description</label>
                                            <textarea id="trainingDescription" [(ngModel)]="request.trainingDescription" name="trainingDescription"
                                                class="form-control" rows="4" required></textarea>
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="numberOfEmployees">Number of Employees</label>
                                            <input id="numberOfEmployees" [(ngModel)]="request.numberOfEmployees" name="numberOfEmployees" type="number"
                                                class="form-control" required />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="technicalSkills">Technical Skill Set Required</label>
                                            <input id="technicalSkills" [(ngModel)]="request.technicalSkills" name="technicalSkills"
                                                class="form-control" />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="duration">Duration of Training (in days)</label>
                                            <input id="duration" [(ngModel)]="request.duration" name="duration" type="number" class="form-control"
                                                required />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="preferredStartDate">Preferred Start Date</label>
                                            <input id="preferredStartDate" [(ngModel)]="request.preferredStartDate" name="preferredStartDate"
                                                type="date" class="form-control" required />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="trainingLocation">Training Location</label>
                                            <input id="trainingLocation" [(ngModel)]="request.trainingLocation" name="trainingLocation"
                                                class="form-control" />
                                        </div>
                                
                                        <div class="form-group">
                                            <label for="specialRequirements">Special Requirements</label>
                                            <textarea id="specialRequirements" [(ngModel)]="request.specialRequirements" name="specialRequirements"
                                                class="form-control" rows="4"></textarea>
                                        </div>
                                    </fieldset>
                                
                                    <button type="submit" class="btn btn-primary m-2">Submit Request</button>
                                </form>
                              </div>
                              <div class="modal-footer">
                                <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Close</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                 </div>  
                 <div class="allRequests">
    
                 </div>
            </div>

            <!-- Pending Requests Tab -->
            <div class="tab-pane" 
                 [ngClass]="{ 'active': activeTab === 'pending', 'fade': activeTab !== 'pending' }"
                 *ngIf="activeTab === 'pending'">   
                 <div class=""> <p>I am pending request</p> </div>
            </div>

            <!-- Accepted Requests Tab -->
            <div class="tab-pane" 
                 [ngClass]="{ 'active': activeTab === 'accepted', 'fade': activeTab !== 'accepted' }"
                 *ngIf="activeTab === 'accepted'"> 
                 <div class=""> <p>I am accepted request</p></div>
            </div>

            <!-- Rejected Requests Tab -->
            <div class="tab-pane" 
                 [ngClass]="{ 'active': activeTab === 'rejected', 'fade': activeTab !== 'rejected' }"
                 *ngIf="activeTab === 'rejected'">  
                 <div class=""> <p>I am rejected request</p></div> 
            </div>

        </div>
    </div>
</div>
